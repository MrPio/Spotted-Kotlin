<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android = "http://schemas.android.com/apk/res/android"
		xmlns:app = "http://schemas.android.com/apk/res-auto">
	<data>
		<variable
			name = "model"
			type = "it.univpm.spottedkotlin.model.Post"/>
		<variable name = "viewModel"
				  type = "it.univpm.spottedkotlin.viewmodel.SpotPostViewModel"/>
	</data>

	<RelativeLayout
		android:layout_width = "match_parent"
		android:layout_height = "wrap_content">

		<androidx.cardview.widget.CardView
			android:layout_width = "match_parent"
			android:layout_height = "wrap_content"
			android:layout_marginStart = "30dp"
			android:layout_marginTop = "30dp"
			android:layout_marginEnd = "30dp"
			app:cardCornerRadius = "30dp">

			<androidx.constraintlayout.widget.ConstraintLayout
				android:layout_width = "match_parent"
				android:layout_height = "wrap_content">

				<!--BackgroundImage-->
				<ImageView
					android:id = "@+id/background_image"

					android:src="@drawable/uni_140"
					android:layout_width = "match_parent"
					android:layout_height = "220dp"
					android:adjustViewBounds = "true"
					android:contentDescription = "@string/luogo"
					android:scaleType = "centerCrop"
					app:layout_constraintStart_toStartOf = "parent"
					app:layout_constraintTop_toTopOf = "parent"/>
				<!--Vignette-->
				<View
					android:id = "@+id/view"
					android:layout_width = "match_parent"
					android:layout_height = "0dp"
					android:layout_marginTop = "90dp"
					android:alpha = "0.75"
					android:background = "@drawable/gradient_linear_black"
					app:layout_constraintBottom_toBottomOf = "@+id/background_image"
					app:layout_constraintTop_toTopOf = "@+id/background_image"/>
				<!--Content-->
				<androidx.constraintlayout.widget.ConstraintLayout
					android:layout_width = "match_parent"
					android:layout_height = "0dp"
					android:paddingStart = "20dp"
					android:paddingTop = "10dp"
					android:paddingEnd = "20dp"
					android:paddingBottom = "10dp"
					app:layout_constraintBottom_toBottomOf = "@+id/background_image"
					app:layout_constraintStart_toStartOf = "parent"
					app:layout_constraintTop_toTopOf = "parent">

					<!--===== Top ====================================-->
					<!--PercentageLabel-->
					<TextView
						android:id = "@+id/percentage_label"
						style = "@style/LabelMedium"
						android:layout_width = "wrap_content"
						android:layout_height = "wrap_content"
						android:background = "@drawable/border_rounded_red_small"
						android:text = '@{model.percentage+"%"}'
						android:textColor = "@color/color4"
						app:layout_constraintStart_toStartOf = "parent"
						app:layout_constraintTop_toTopOf = "parent"/>
					<!--TimeLabel-->
					<TextView
						android:id = "@+id/recent_time_label"
						style = "@style/LabelMedium"
						android:layout_width = "wrap_content"
						android:layout_height = "wrap_content"
						android:layout_marginStart = "6dp"
						android:background = "@drawable/border_rounded_black_small"
						android:text = "5 min fa"
						android:textColor = "@color/color4"
						app:layout_constraintStart_toEndOf = "@id/percentage_label"
						app:layout_constraintTop_toTopOf = "parent"/>
					<!--AvatarImage-->
					<androidx.cardview.widget.CardView
						android:layout_width = "wrap_content"
						android:layout_height = "wrap_content"
						app:cardBackgroundColor = "#FFFFFF"
						app:cardCornerRadius = "999dp"
						app:layout_constraintEnd_toEndOf = "parent"
						app:layout_constraintTop_toTopOf = "parent">

						<ImageView
							android:layout_width = "34dp"
							android:layout_height = "34dp"
							android:layout_margin = "2dp"
							android:contentDescription = "TODO"
							android:src = "@drawable/anonymous"/>
					</androidx.cardview.widget.CardView>

					<!--===== Bottom =================================-->
					<TextView
						style = "@style/LabelIcon"
						android:layout_width = "wrap_content"
						android:layout_height = "wrap_content"
						android:fontFamily = "@font/material_design_icons"
						android:text = "@string/MapMarker"
						android:textColor = "@color/color4"
						android:textSize = "20sp"
						app:layout_constraintBottom_toBottomOf = "parent"
						app:layout_constraintStart_toStartOf = "@id/tags_scroll"/>

					<HorizontalScrollView
						android:id = "@+id/tags_scroll"
						android:layout_width = "match_parent"
						android:layout_height = "wrap_content"
						app:layout_constraintBottom_toBottomOf = "parent"
						app:layout_constraintStart_toStartOf = "parent">

						<LinearLayout
							android:id = "@+id/tags_layout"
							android:layout_width = "wrap_content"
							android:layout_height = "match_parent"
							android:orientation = "horizontal"></LinearLayout>
					</HorizontalScrollView>

				</androidx.constraintlayout.widget.ConstraintLayout>

				<!--HighlightView-->
				<View android:layout_width = "0dp"
					  android:layout_height = "0dp"
					  android:alpha = "0.2"
					  android:clickable = "true"
					  android:focusable="true"
					  android:foreground = "@drawable/ripple_white"
					  android:onClickListener = "@{()->viewModel.cardClicked(model)}"
					  app:layout_constraintBottom_toBottomOf = "parent"
					  app:layout_constraintEnd_toEndOf = "parent"
					  app:layout_constraintStart_toStartOf = "parent"
					  app:layout_constraintTop_toTopOf = "parent"/>

			</androidx.constraintlayout.widget.ConstraintLayout>
		</androidx.cardview.widget.CardView>
	</RelativeLayout>
</layout>